<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="OFFICE_CIRCULATION" >
  <resultMap id="abatorgenerated_OfficeCirculationResult" class="cn.com.atblue.oa.bean.OfficeCirculation" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Mar 09 09:54:21 CST 2010.
    -->
    <result column="CYID" property="cyid" jdbcType="VARCHAR" />
    <result column="WJMC" property="wjmc" jdbcType="VARCHAR" />
    <result column="WJBH" property="wjbh" jdbcType="VARCHAR" />
    <result column="LDPS" property="ldps" jdbcType="VARCHAR" />
    <result column="NBYJ" property="nbyj" jdbcType="VARCHAR" />
    <result column="CLYJ" property="clyj" jdbcType="VARCHAR" />
    <result column="LRSJ" property="lrsj" jdbcType="DATE" />
    <result column="LRR" property="lrr" jdbcType="VARCHAR" />
    <result column="LWSJ" property="lwsj" jdbcType="DATE" />
    <result column="LWDW" property="lwdw" jdbcType="VARCHAR" />
    <result column="ZT" property="zt" jdbcType="VARCHAR" />
    <result column="FS" property="fs" jdbcType="VARCHAR" />
    <result column="SWH" property="swh" jdbcType="VARCHAR" />
    <result column="DXTX" property="dxtx" jdbcType="VARCHAR" />
    <result column="PROCESS_ID" property="processId" jdbcType="VARCHAR" />
    <result column="CONNECT_ID" property="connectId" jdbcType="VARCHAR" />
  </resultMap>
  
   <select id="getBySql" parameterClass="java.util.HashMap" resultClass="cn.com.atblue.oa.bean.OfficeCirculation">
  	 <include refid="basic.pageStart" />
	  	<![CDATA[
	  		$sql$
	  	]]>
	  <include refid="basic.pageEnd" />
  </select>
  
  <select id="getBySqlCount" parameterClass="java.lang.String" resultClass="java.lang.Integer">
  	<![CDATA[
  		$sql$
  	]]>
  </select>
  
   <select id="getByFreeSql" parameterClass="java.util.HashMap" resultMap="abatorgenerated_OfficeCirculationResult">
  	 <include refid="basic.pageStart" />
	  	<![CDATA[
	  		select * from OFFICE_CIRCULATION $sql$
	  	]]>
	  <include refid="basic.pageEnd" />
  </select>
  
  <select id="getByFreeSqlCount" parameterClass="java.lang.String" resultClass="java.lang.Integer">
  	<![CDATA[
  		select count(*) from OFFICE_CIRCULATION $sql$
  	]]>
  </select>
  
  <select id="getMapByFreeSql" parameterClass="java.util.HashMap"  resultClass="java.util.HashMap" remapResults="true">
	  	<![CDATA[
	  		$sql$
	  	]]>
  </select>
  
  <select id="getMapByFreeSqlCount" parameterClass="java.lang.String" resultClass="java.lang.Integer">
	  	<![CDATA[
	  		$sql$
	  	]]>
  </select>
  
  <select id="abatorgenerated_selectByPrimaryKey" resultMap="abatorgenerated_OfficeCirculationResult" parameterClass="cn.com.atblue.oa.bean.OfficeCirculation" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Mar 09 09:54:21 CST 2010.
    -->
    select CYID, WJMC, WJBH, LDPS, NBYJ, CLYJ, LRSJ, LRR, LWSJ, LWDW, ZT, FS, SWH,DXTX,PROCESS_ID,CONNECT_ID
    from OFFICE_CIRCULATION
    where CYID = #cyid:VARCHAR#
  </select>
  <delete id="abatorgenerated_deleteByPrimaryKey" parameterClass="cn.com.atblue.oa.bean.OfficeCirculation" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Mar 09 09:54:21 CST 2010.
    -->
    delete from OFFICE_CIRCULATION
    where CYID = #cyid:VARCHAR#
  </delete>
  <insert id="abatorgenerated_insert" parameterClass="cn.com.atblue.oa.bean.OfficeCirculation" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Mar 09 09:54:21 CST 2010.
    -->
    insert into OFFICE_CIRCULATION (CYID, WJMC, WJBH, LDPS, NBYJ, CLYJ, LRSJ, LRR, LWSJ, LWDW,ZT,FS,SWH,DXTX,PROCESS_ID,CONNECT_ID)
    values (#cyid:VARCHAR#, #wjmc:VARCHAR#, #wjbh:VARCHAR#, #ldps:VARCHAR#, #nbyj:VARCHAR#,
      #clyj:VARCHAR#, #lrsj:DATE#, #lrr:VARCHAR#, #lwsj:DATE#, #lwdw:VARCHAR#, #zt:VARCHAR#, #fs:VARCHAR#,#swh:VARCHAR#,#dxtx:VARCHAR#,#processId:VARCHAR#,#connectId:VARCHAR#)
  </insert>
  <update id="abatorgenerated_updateByPrimaryKey" parameterClass="cn.com.atblue.oa.bean.OfficeCirculation" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Mar 09 09:54:21 CST 2010.
    -->
    update OFFICE_CIRCULATION
    set WJMC = #wjmc:VARCHAR#,
      WJBH = #wjbh:VARCHAR#,
      LDPS = #ldps:VARCHAR#,
      NBYJ = #nbyj:VARCHAR#,
      CLYJ = #clyj:VARCHAR#,
      LRSJ = #lrsj:DATE#,
      LRR = #lrr:VARCHAR#,
      LWSJ = #lwsj:DATE#,
      LWDW = #lwdw:VARCHAR#,
      ZT = #zt:VARCHAR#,
      FS = #fs:VARCHAR#,
      SWH = #swh:VARCHAR#,
      DXTX = #dxtx:VARCHAR#,
      PROCESS_ID = #processId:VARCHAR#,
      CONNECT_ID = #connectId:VARCHAR#
    where CYID = #cyid:VARCHAR#
  </update>
  <update id="abatorgenerated_updateByPrimaryKeySelective" parameterClass="cn.com.atblue.oa.bean.OfficeCirculation" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Tue Mar 09 09:54:21 CST 2010.
    -->
    update OFFICE_CIRCULATION
    <dynamic prepend="set" >
      <isNotNull prepend="," property="wjmc" >
        WJMC = #wjmc:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="wjbh" >
        WJBH = #wjbh:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="ldps" >
        LDPS = #ldps:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="nbyj" >
        NBYJ = #nbyj:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="clyj" >
        CLYJ = #clyj:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="lrsj" >
        LRSJ = #lrsj:DATE#
      </isNotNull>
      <isNotNull prepend="," property="lrr" >
        LRR = #lrr:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="lwsj" >
        LWSJ = #lwsj:DATE#
      </isNotNull>
      <isNotNull prepend="," property="lwdw" >
        LWDW = #lwdw:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="zt" >
        ZT = #zt:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="fs" >
        FS = #fs:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="swh" >
        SWH = #swh:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="swh" >
        DXTX = #dxtx:VARCHAR#
      </isNotNull>
        <isNotNull prepend="," property="processId" >
            PROCESS_ID = #processId:VARCHAR#
        </isNotNull>
        <isNotNull prepend="," property="connectId" >
            CONNECT_ID = #connectId:VARCHAR#
        </isNotNull>
    </dynamic>
    where CYID = #cyid:VARCHAR#
  </update>
  <!-- 根据拟办人获取用户信息 -->
   <select id="getBeanByNbr" parameterClass="java.util.HashMap" resultClass="cn.com.atblue.oa.bean.OfficeCirculation">
  	 <include refid="basic.pageStart" />
	  	<![CDATA[
	  		select a.* from OFFICE_CIRCULATION a,Office_Circulation_Check b
	  		where a.cyid=b.cyid and b.checkman =#checkman#  and a.zt = '正在传阅中'  and b.CHECKFLAG = #cn#
	  	]]>
	  <include refid="basic.pageEnd" />
  </select>
  
  <select id="getBeanByNbrCount" parameterClass="java.util.HashMap" resultClass="java.lang.Integer">
  	<![CDATA[
  		select count(*) from OFFICE_CIRCULATION a,Office_Circulation_Check b
  		where a.cyid=b.cyid and b.checkman =#checkman#  and a.zt = '正在传阅中'  and b.CHECKFLAG = #cn#
  	]]>
  </select>
</sqlMap>